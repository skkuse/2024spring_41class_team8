<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Java Code Sender</title>
</head>
<body>
    <h1>Java Code Sender</h1>
    <textarea id="javaCode" rows="10" cols="50" placeholder="Enter your Java code here..."></textarea><br>
    <button id="sendButton">Send Code</button>
    <h2>Received Code:</h2>
    <pre id="receivedCode"></pre>
    <h2>Execution Time (s):</h2>
    <pre id="executionTime"></pre>
    <h2>Memory Usage (MB):</h2>
    <pre id="memoryUsage"></pre>
    <h2>Carbon Emissions (g CO2e):</h2>
    <pre id="carbonEmissions"></pre>
    <h2>Output:</h2>
    <pre id="output"></pre>
    <h2>Fixed Code:</h2>
    <pre id="fixedCode"></pre>
    <h2>Fixed Execution Time (s):</h2>
    <pre id="fixedExecutionTime"></pre>
    <h2>Fixed Memory Usage (MB):</h2>
    <pre id="fixedMemoryUsage"></pre>
    <h2>Fixed Carbon Emissions (g CO2e):</h2>
    <pre id="fixedCarbonEmissions"></pre>
    <h2>Reduced Emissions (%):</h2>
    <pre id="reducedEmissions"></pre>

    <script>
        document.getElementById('sendButton').addEventListener('click', async () => {
            const javaCode = document.getElementById('javaCode').value;
            
            const response = await fetch('/submit', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ java_code: javaCode })
            });

            const result = await response.json();
            document.getElementById('receivedCode').textContent = result.java_code;
            document.getElementById('executionTime').textContent = result.execution_time;
            document.getElementById('memoryUsage').textContent = result.memory_usage;
            document.getElementById('carbonEmissions').textContent = result.carbon_emissions;
            document.getElementById('output').textContent = result.output;
            document.getElementById('fixedCode').textContent = result.fixed_code;
            document.getElementById('fixedExecutionTime').textContent = result.fixed_execution_time;
            document.getElementById('fixedMemoryUsage').textContent = result.fixed_memory_usage;
            document.getElementById('fixedCarbonEmissions').textContent = result.fixed_carbon_emissions;
            document.getElementById('reducedEmissions').textContent = result.reduced_emmisions;
        });
    </script>
</body>
</html>
